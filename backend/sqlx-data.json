{
  "db": "PostgreSQL",
  "01c8c00d585a67871c0d5d26063389a6344a585c2fb286d5dedf0863a038dedb": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "icon_url",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n            SELECT id, name, description, icon_url\n            FROM emotions\n            WHERE id = $1\n        "
  },
  "0f5ea20e3ce0ffe2910777bf1ec7fc918bbebb5ceaa3f92d922cdd170cc78a72": {
    "describe": {
      "columns": [
        {
          "name": "emotion_id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "position",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "notes",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Text",
          "Text",
          "Int4",
          "Text"
        ]
      }
    },
    "query": "\n            UPDATE review_emotions\n            SET emotion_id  = COALESCE($1, emotion_id),\n                position    = COALESCE($2, position),\n                notes       = COALESCE($3, notes)\n            WHERE review_id = (SELECT id\n                                 FROM users,\n                                      reviews\n                                WHERE slug           = $4\n                                  AND users.user_id  = reviews.user_id\n                                  AND users.username = $6\n                                LIMIT 1\n                               )\n               AND position = $5\n            RETURNING emotion_id,\n                      position, \n                      notes\n        "
  },
  "1a66539537c71a52ffacfe03719f39c0e6b174a6cecccbfba7750371af8cd19d": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "password_hash",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "\n        SELECT user_id, password_hash FROM users\n        WHERE username = $1\n        "
  },
  "2c46d9b3160ef9ad68700bb4c6aad60da9de1c0011e9c484acd438f4c18cf32f": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        SELECT user_id, username \n        FROM users\n        WHERE user_id = $1\n        "
  },
  "31786f565bd2afec38becd96eda87a5f832d4571f26b7e93d7bcc6084cf3323d": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "title",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "slug",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "body",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "created_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "updated_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "username",
          "ordinal": 6,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Int8",
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT  id,\n                    title, \n                    slug, \n                    body, \n                    created_at, \n                    updated_at, \n                    username\n              FROM  reviews, \n                    users\n            WHERE   reviews.user_id = COALESCE($3, reviews.user_id)\n                AND reviews.user_id = users.user_id\n            ORDER BY updated_at DESC\n            LIMIT $1\n            OFFSET $2\n        "
  },
  "3f6b86bc5fd6cbbc74917a1e2475522f1d323a79bb2968df23d73072c06c3cf7": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "icon_url",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n            SELECT id, name, description, icon_url\n            FROM emotions\n        "
  },
  "55d9cd836996a10ab4f28e94396ee448ac1c22af0f01cb47bcdc26f2a4f9a5ca": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            DELETE \n              FROM  review_emotions\n             WHERE  review_id = $1\n        "
  },
  "59a3ade2a3cb06a97e9476ed74712f8a47b8f77c0eee804e0a7c7650a1f55547": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "title",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "slug",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "body",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "created_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "updated_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "username",
          "ordinal": 6,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n            SELECT id,\n                   title,\n                   slug, \n                   body, \n                   created_at, \n                   updated_at, \n                   username\n              FROM reviews,\n                   users\n            WHERE  slug           = $2\n              AND  users.user_id  = reviews.user_id\n              AND  users.username = $1\n        "
  },
  "670dfcff9385a45e93291925c6208bc300c1d3d1af9412646480bea77a3328a3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            DELETE FROM reviews\n            WHERE       user_id = $1\n        "
  },
  "7b8853925aa47a4562d9c535f3b02cc970782740b930c5a833f48bda2fecd021": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            DELETE FROM reviews\n            WHERE     id = $1\n        "
  },
  "8219707831f28b7fb24d2dc85cdc894c2eb4e7138306a660c536a0b0caa5b1da": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n            INSERT INTO users (user_id, username, password_hash)\n            VALUES ($1, $2, $3)\n            RETURNING user_id, username\n        "
  },
  "a9c64f70a0b65beade2022a32505ef6433f811c130cdcfc9171fa9f286efd5b4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            DELETE \n              FROM  review_emotions re\n             WHERE  EXISTS (\n                SELECT 1\n                  FROM reviews\n                 WHERE reviews.id      = re.review_id\n                   AND reviews.user_id = $1\n             )\n        "
  },
  "afeadc6ca50f5aea9b880b15d3114690d219d921964617949a07fad8053c19f0": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "title",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "slug",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "body",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "created_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "updated_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "user_id",
          "ordinal": 6,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Text",
          "Timestamptz",
          "Timestamptz",
          "Uuid"
        ]
      }
    },
    "query": "\n            INSERT INTO reviews (id, title, slug, body, created_at, updated_at, user_id)\n            VALUES ($1, $2, $3, $4, $5, $6, $7)\n            RETURNING id, title, slug, body, created_at, updated_at, user_id\n        "
  },
  "b380e0ae28aa31e8416c01f16e8d69cbb68ff6595591693fc0db686a9d7451d8": {
    "describe": {
      "columns": [
        {
          "name": "emotion_id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "position",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "notes",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Int4",
          "Int4",
          "Text"
        ]
      }
    },
    "query": " \n            INSERT INTO review_emotions(\n                id,\n                review_id,\n                emotion_id,\n                position,\n                notes\n            )\n            VALUES (\n                $1,\n                (\n                    SELECT id\n                      FROM users,\n                           reviews\n                     WHERE slug           = $3\n                       AND users.user_id  = reviews.user_id\n                       AND users.username = $2\n                     LIMIT 1\n                ), \n                $4, \n                $5,\n                $6 \n            )\n            RETURNING emotion_id, position, notes\n        "
  },
  "c410ceada60020f7471e7247a8bcd27ffc3af878ba0558df5b9301d5f4305bf6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int4",
          "Text"
        ]
      }
    },
    "query": "\n            DELETE \n              FROM  review_emotions\n             WHERE  review_id = (SELECT id\n                                   FROM users,\n                                        reviews\n                                  WHERE slug           = $1\n                                    AND users.user_id  = reviews.user_id\n                                    AND users.username = $3\n                                  LIMIT 1\n                               )\n                AND position = $2\n        "
  },
  "c99d9e22fcc337ad063d3c6165b47ad0fcd61fb4d319685fc5b4f3c92d4a2a47": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT user_id \n            FROM users\n            WHERE user_id = $1\n        "
  },
  "dd81f4650f63031bf532acd0697be75db211f9df6f5dc43f0cccdeadb67b3f3e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            DELETE FROM users\n            WHERE       user_id = $1\n        "
  },
  "e424f34fcc9c80469eb9fbb3b067140079256b6ca6b3bc460f9d450284fcac85": {
    "describe": {
      "columns": [
        {
          "name": "emotion_id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "position",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "notes",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Int4"
        ]
      }
    },
    "query": "\n            SELECT emotion_id,\n                   position,\n                   notes\n              FROM users, \n                   reviews,\n                   review_emotions,\n                   emotions\n            WHERE  users.user_id  = reviews.user_id\n              AND  users.username = $1\n              AND  reviews.slug   = $2\n              AND  review_emotions.position = $3\n        "
  },
  "e6d5647507c955bee700916f621707b4bab0563fc7173fd60ebc44941c64cb64": {
    "describe": {
      "columns": [
        {
          "name": "emotion_id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "position",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "notes",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT emotion_id,\n                   position,\n                   notes\n              FROM review_emotions\n            WHERE  review_id = $1\n          ORDER BY position ASC\n        "
  },
  "ee68224ab912e03876ba9baf4de2551e3809de6cf5aa2130ae241eb2f3abf6c6": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "title",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "slug",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "body",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "created_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "updated_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "user_id",
          "ordinal": 6,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Timestamptz",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n            UPDATE reviews\n            SET title      = COALESCE($1, title),\n                slug       = COALESCE($2, slug),\n                body       = COALESCE($3, body),\n                updated_at = $4\n            WHERE         slug    = $5\n              AND reviews.user_id = (SELECT user_id\n                                       FROM users\n                                      WHERE username = $6\n                                    )\n            RETURNING id, title, slug, body, created_at, updated_at, user_id\n        "
  }
}